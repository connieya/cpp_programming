# 포인터 배열

## 정의
포인터 배열 이란 요소가 포인터형인 배열이다. 
T형이 있을 때 T형 포인터를 선언 할 수 있고 T형 배열도 선언할 수 있으므로 
T형 포인터 배열도 선언할 수 있다. 

크기 5의 정수형 포인터 배열은 다음 과 같다

- int *arpi[5];

즉 포인터 변수가 5개가 모여있다.

```c++
#include "stdio.h"

int main(void)
{
    char *arps[] = {"고양이","개","오랑우탄","돼지","지렁이"};
    for (int i = 0; i < 5; ++i) {
        printf("%s\n",arps[i]);
    }
}
```

## 포인터 배열의 활용

학생 수를 미리 알 수 없을 때는 실행 중에 학생 수만큼 메모리를 할당해서 사용해야 한다.
정수형 포인터 변수 arScore를 선언하고 동적 할당한 메모리의 번지를 이 변수에
대입함으로써 arScore를 마치 배열인 것처럼 사용했었다.

```c++
#include "stdio.h"
#include "malloc.h"
int main(void)
{
    int *ar[3];
    int num[3];

    for (int i = 0; i < 3; ++i) {
        scanf("%d",&num[i]); // 학습의 학생의 수
        ar[i] = (int *)( num[i]* sizeof(int)); // 학생의 수  만큼 동적 할당
    }
//    printf("%d\n",*(num+1)); // 시작 번지에서 1만큼 증가 한 뒤 거기에 해당하는 값을 참조해라

    for (int i = 0; i < 3; ++i) {
        free(ar[i]);
    }
}
```

ar 은 2차 정수형 배열 처럼 사용할 수 있다. 

ar[0][3] <= 0번째 학급의 3번째 학생

단, 2차원 배열은 각 행의길이가 모두 같지만 포인터 배열은 각 포인터가 가리키는 배열의 길이가
각각 다르다.  


## 포인터와 배열

- int ar[n];
- int *pi;

ar[n]은 정수형 변수 n개를 모아 놓은 정수형 배열이다.
여기선 n은 변수가 아니라 임의의 상수를 의미하며 필요한 만큼의 크기를 줄 수있다.
이 선언에 의해 컴파일러는 정수형 변수 n개를 저장할수 있는 연속적인 메모리를 할당한다.

pi는 정수형 변수 하나의 위치르 가리킬 수 있는 포인터이며, pi 자체는 하나의 포인터 변수일 뿐이므로
컴파일러가 pi를 위해 할당하는 메모리는 항상 4바이트이다. 
pi는 &i 같은 정수형 변수의 주소값을 대입 받는다. 
그러나 실행 중에 동적으로 메모리를 할당하면 pi 로도 정수형 배열을 가리킬 수 있다.

pi = (int *) malloc (n*sizeof(int));