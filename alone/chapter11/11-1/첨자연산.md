# 첨자 연산

## 배열의 내부적 처리
배열은 포인터를 만날 때 진정한 가치를 발휘한다.
배열의 정보 저장 능력과 포인터의 정보 가공 능력이 결합되면 복잡한 현실 문제들을 해결하는 데
아주 강력한 무기가 된다.

배열과 포인터는 닮은 점이 있고 또 틀린 점이 있는데 이런 유사점과 차이점을 분명하게
살펴보자

C언어의 배열은 다음과 같은 두 가지 특징을 가진다.

- C는 내부적으로 1차원 배열만 지원한다. 2차원 이상의 다차원 배열은 1차원 배열의 확장에 불과하다.
C에는 2차원 배열이라는 것이 없다.
- 배열을 구성하는 배열 요소의 타입에는 전혀 제한이 없다. T형 변수를 선언할 수 있으며, T형 배열도
언제나 선언할 수 있다. 배열도 유도형 타입의 일종이며 따라서 배열 그 자체가 배열의 요소가 될 수 있다.

2차원 배열이 아니라 그냥 배열의 배열일 뿐이다.

배열을 단순히 사용하기만 한다면 과연 2차원 배열로 보든 배열의 배열로 보든 전혀 차이점이 없다.
그러나 배열이 내부적으로 어떻게 처리되는가에 따라서 큰 차이점이 발생하는데
- 첨자 연산 방법
- 부분 배열의 자격 

문제가 달라진다.

다차원 배열에서는 부분 배열만 단독으로 사용할 수 없지만 배열의 배열에서는
부분 배열 단독으로도 배열로 인정된다는 큰 차이점이 있다.
```c++
#include "stdio.h"

void arDump(void *array, int length);

int main(void) {
    unsigned char ari[2][3] = {{1, 2, 3},
                               {4, 5, 6}};
    printf("%d \n" , sizeof(ari));
    arDump(ari , sizeof(ari));
    arDump(ari[0] , sizeof(ari[0]));
    arDump(ari[1] , sizeof(ari[1]));
}

void arDump(void *array, int length) {
    int i;
    for (i = 0; i < length; i++) {
        printf("%02X ",*((unsigned char *)array+i));
    }
    printf("\n");
}
```

```c++
#include "stdio.h"

int main(void)
{
    char ar[] = "한국을 빛낸 사람들";
    char ars[2][3][10] = {
            {"이순신","강감찬","김유신"},
            {"유관순","을지문덕","신사임당"}
    };
    printf("ar 배열 = %s\n",ar);
    printf("ars[1][1] = %s \n",ars[1][1]);
}
```

## [ ] 연산자
배열의 한 요소를 참조할 때는 [ ]연산자를 사용하며 [ ] 괄호 안에 읽고자 하는 배열 요소의 첨자를
적는다. 예를 들어 ar[3]은 ar 배열의 3번째 요소를 읽는다. [] 괄호는 언뜻 보기에 구두점 같아 보이지만
실제로는 첨자 연산을 하는 포인터 연산자이다.


### `ptr이 임의의 배열을 가리키는 포인터이고 n이 정수일 때`
ptr[n] = *(ptr+n);

```c++
#include "stdio.h"
int main(void)
{
    int ar[5] = {11,32,43,54,25};

    printf("ar[2] =%d\n",ar[2]); // 43
    printf("ar[2] =%d\n",*(ar+2)); // 43 0번 인덱스에 2칸 떨어진 3번 인덱스의 값을 가져와라
    printf("ar[2] =%d\n",2[ar]); // 43
    printf("ar[2] =%d\n",*ar+2); // 13  0번 인덱스에 있는 값에 2를 더해라

    int n = 6;
    int *pi = &n;
    printf("pi의 값은 = %d\n",pi); // 6422276
    printf("pi+2의 값은 = %d\n",pi+2); // 6422284
}
```

2[ar] 은  *(2+ar) 과 같고 이는 *(ar+2)와 같다.
결국 2[ar] 과 ar[2]는 같은 뜻이다.


다차원 배열 

ar[2][1] == *(*(ar+2)+1)