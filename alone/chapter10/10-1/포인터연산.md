# 포인터 연산

## T형 포인터

어떤 변수든 메모리에 보관되며 모든 메모리는 번지를 가지고 있다.
그리고 그 번지값을 가지는 변수가 바로 포인터이다.

### *pi vs int *pi 구분하기

*pi는 pi 변수가 저장되어 있는 메모리의 주소 값을 가리키고
int *pi는 메모리 번지를 참조하는 포인터를 선언하기 위해 사용한 것이다.

즉, 전자는 포인터 변수가 가리키는 번지의 내용을 읽어내는 포인터 연산자이고,

후자는 포인터를 선언할 때 사용하는 구두점이다.

## 포인터의 타입

메모리에는 정수형인지,실수형인지 나타내는 표식 따위가 없기 때문에
포인터가 어떤 타입인지 기억하고 있어야 한다.

그래서 포인터를 선언할 때 대상체의 타입을 밝혀야 하는 것이다.

포인터가 대상체의 타입을 요구하는 또 다른이유는 메모리에 저장되어있는 인접한 대상체의
이동거리를 알기 위해서이다.

그리고 그 이동거리가 대상체의 크기에 대한 정보를 의미한다.

배열명 자체가 배열의 시작번지를 가리키는 포인터 상수이다.

C는 포인터에 대한 증감 연산을 산술 연산과는 다르게 특수하게 수행한다.
배열의 시작 번지를 가리키는 배열 명에서
++ 증감연산을 하면 번지가 1씩 증가하는 것이 아니라
타입의 크기 만큼 (정수형이면 4증가, 실수형이면 8증가) 증가한다.
 
### `T형 포인터 변수 px 에 정수 i를 더하면  px = px+(i*(sizeof(T)))가 된다.`

일반 산술 연산처럼 1씩 증감하면 다른 배열 요소를 가리키지도 않고 그 배열에 있는 애매한 곳을 가리킨다.
그에 반해 타입의 사이즈 크기만큼  배열을 가리키는 포인터를 증감시키면 배열의 다른 요소로 자유롭게 이동이 가능하다.

## 포인터 연산

포인터 변수나 포인터 상수가 피연산자 중에  하나라도 있으면 이를 포인터 연산이라고 한다.

포인터 연산도 일반적인 산술 연산과는 다른 규칙이 적용된다.

- 포인터끼리 더할 수 없다.

포인터의 더하기 연산은 허용되지 않는다.
두 변수의 번지를 더한 값이 기존의 두 변수 각각에게 어떠한 의미가 없기 때문이다. 

어떤 양이나 크기를 나타내는 것이 아니라 메모리의 위치를 알려주기 때문에 포인터의 연산은 아무런 의미가없다.

- 포인터끼리 뺄 수는 있다.

포인터 끼리 더한 값은 아무런 의미가 없지만 뺀 값은 두 요소간의 상대적인 거리라는 의미가 있다.

포인터 끼리 뺄셈을 한 결과는 더 이상 포인터가 아니며 단순한 정수값이다.
두 사람의 나이차가 더 이상 나이가 아닌 단순환 수치가 되어 버리는 것처럼 두 포인터의 상대적인 거리도
번지가 아닌 정수값이다.

- 포인터에 정수르 더하거나 뺄 수 있다.

포인터끼리 더할 수는 없지만 포인터와 정수를 더할 수는 있다.

- 포인터끼리 대입할 수 있다.

- 포인터와 실수와의 연산은 허용되지 않는다.

번지라는 값은 정수의 범위에서만 의미가 있기 때문에 실수와는 어떠한 연산도 할 수없다.
바이트 중간의 비트를 가리킬 수는 없는데 왜냐하면 비트는 기억의 최소돤위일뿐이며 번지를 가지는
최소 단위는 바이트이기 때문이다.

- 포인터에 곱셈이나 나눗셈을 할 수 없다.

포인터에 곱셈,나눗셈을 하는 것이 불가능한 일은 아니지만 연산의 필요성이 전혀 없다고 해야 옳을 것이다.


- 포인터끼리 비교는 가능하다.

두 포인터가 같은 번지를 가리키고 있느지를 조사하기 위해 비교 연산자를 사용할 수 있다.

### 두 포인터의 중점을 구하는 예제
```c++
#include "stdio.h"

int main(void)
{
    int ar[] = {1,2,3,4,5};
    int *p1,*p2,*p3;
    p1 = &ar[0];
    p2 = &ar[4];
    p3 = p1 + (p2-p1)/2; // p2-p1의 두 지점 거리 구함
    printf("%d",*p3);  // 시작 번지 p1에 절반을 더하여 중간 지점의 번지를 구할 수 있다.
}

```


## *ptr++

```c++
#include "stdio.h"

int main(void)
{
    int ar[] = {10,20,30,40,50};
    int *ptr;
    ptr = ar; // ar의 시작 번지 대입
    for (int j = 0; j < 5; ++j) {
//        printf("%d ",*ptr++); 10 ,20 ,30 ,40 ,50
        printf("%d ",(*ptr)++); //  10,11,12,13,14
        //위 두 문장의 차이점을 잘 이해하길
    }
}
```